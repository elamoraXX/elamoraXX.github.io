<!DOCTYPE html >
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>登陆</title>
<link rel="stylesheet" href="css/style.css">
<script type="text/javascript">
	var elmora = "elmora";
	var elmorapwd = "123456";
	window.onload=function(){
    	createCode();
    }
	function dlsb(){
		
	}
	function yz(){
		var username = document.getElementById("user_name").value;
		var userpwd = document.getElementById("user_pwd").value;
		if(username!=elmora && userpwd!=elmorapwd){
			alert("账号或密码错误！");
			return false;
		}
		if(username==elmora && userpwd==elmorapwd){
			localStorage.setItem('key',username);
			return yzUsername() && yzPassword() && yzyzm();
		}
		alert("账号或密码错误！")
		return false;
	}

	function PwdLogin() {
	    var login = document.getElementsByClassName("login_con");
	    login[0].classList.remove("hidden");
	    login[0].classList.add("show");
	    login[1].classList.remove("show");
	    login[1].classList.add("hidden");
	    var tags = document.getElementsByClassName("top_tag");
	    tags[0].classList.add("active");
	    tags[1].classList.remove("active");
	    var ad = document.getElementById("AdImg");
	    ad.style.height = "558px";
	}
	function QrcodeLogin() {
	    var login = document.getElementsByClassName("login_con");
	    login[0].classList.remove("show");
	    login[0].classList.add("hidden");
	    login[1].classList.remove("hidden");
	    login[1].classList.add("show");
	    var tags = document.getElementsByClassName("top_tag");
	    tags[1].classList.add("active");
	    tags[0].classList.remove("active");
	    var ad = document.getElementById("AdImg");
	    ad.style.height = "407px";
	}

	function yzPassword(){
		var pwdValue = document.getElementById("user_pwd").value;
		var pwdspan = document.getElementById("passwordspan");
		if(pwdValue==""){
			pwdspan.innerHTML = "请检查密码,密码不能为空";
			return false;
		}else{
			pwdspan.innerHTML = "";
			return true;
		}
	}
	function yzUsername(){
		var usernameInput = document.getElementById("user_name");
		var usernameValue = usernameInput.value;
		var usernamespan = document.getElementById("usernamespan");
		if(usernameValue==""){
			usernamespan.innerHTML = "请检查用户名,用户名不能为空";
			return false;
		}else{
			usernamespan.innerHTML = "";
			return true;
		}
	}
	function yzyzm(){
		 //获取显示区生成的验证码
        var checkCode = document.getElementById("yzmspan").innerHTML;
        //获取输入的验证码
        var inputCode = document.getElementById("auth_code").value;
		var yzmInput = document.getElementById("auth_code");
		var yzmValue = yzmInput.value;
		var yzmspan = document.getElementById("yzmmspan");
		if(yzmValue == ""){
			yzmspan.innerHTML = "请检查验证码,验证码不能为空";
			return false;
			//toUpperCase()把所有小写字母转换为大写字母
		}else if(checkCode.toUpperCase() != inputCode.toUpperCase()){
			yzmspan.innerHTML = "请检查验证码,验证码有误~";
			return false;
		}else{
			yzmspan.innerHTML = "验证码正确";
			return true;
		}
	}
	function createCode() {
        var code = "";
        var codeLength = parseInt(4); //验证码的长度
        var checkCode = document.getElementById("yzmspan");
        ////所有候选组成验证码的字符，当然也可以用中文的
        var codeChars = new Array(0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
        'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z',
        'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'); 
        //循环组成验证码的字符串
        for (var i = 0; i < codeLength; i++)
        {
            //获取随机验证码下标
            var charNum = Math.floor(Math.random() * 62);
            //组合成指定字符验证码
            code += codeChars[charNum];
        }
        if (checkCode)
        {
        	checkCode.innerHTML = code;
        }
    }
	
	
	</script>
</head>
	
<body>
	 

        <div class="container">
            <div class="login_body l_clear">
                <div class="login_form l_float">
                    <div class="login_top">
                        <img src="img/a.jpg" alt="" class="">
                        
                        <div class="login_tags b_clear">
                            <span class="top_tag l_float active" onClick="PwdLogin()">密码登录</span>
                            <span class="top_tag r_float" onClick="QrcodeLogin()">扫码登录</span>
                        </div>
                    </div>
                    <div class="login_con">
                        <form action="login.html" method="get" onsubmit="return yz()">
                            <div>
                                <label for="user_name" >用户名</label>
                                <input type="text" name="username" id="user_name" placeholder="账号/手机号/邮箱" onblur="yzUsername()"/>
                                <img src="img/icons/user.svg">
                                <span id = "usernamespan" style="color: red"></span>
                            </div>
                            <div>
                                <label for="user_pwd">密码</label>
                                <input type="password" name="password" id="user_pwd" placeholder="请输入账户密码" onblur="yzPassword()"/>
                                <img src="img/icons/lock.svg">
                               	<span id = "passwordspan" style="color: red"></span>
                            </div>
                            <div class="b_clear">
                            
                                <label for="auth_code" class="b_clear">验证码</label>
                                <input type="text" name="" id="auth_code" placeholder="验证码" class="l_float" maxlength="4" onblur="yzyzm()"/>
                                
                                <button class="auth_code l_float" id = "huoquyzm" onclick="createCode()">刷新验证码</button>
                                <img src="img/icons/auth_code.svg">
                                <span id ="yzmmspan" style="color: red"></span>
                            </div>
                            <div class="b_clear submit">
                                
                                <button type="submit" onclick="dlsb()">登&nbsp;&nbsp;录</button>
                                <a href="#" class="r_float">忘记密码？</a>
                                
                            </div>
                        </form>   
                    </div>
                    <div class="login_con hidden">
                        <div class="qr_code">
                                <img src="img/aaaaaa.png" alt="">
                                <p>请使用微信扫码登录<br>仅支持已绑定微信的账户进行快速登录</p>
                        </div>
                        
                    </div>
                    <div class="login_otherAccount">
                        <span>第三方登录</span>
                        <a href="http://"><img src="img/icons/wechat.svg" alt="微信登录"></a>
                        <a href="http://"><img src="img/icons/weibo.svg" alt="微博登录"></a>
                        <a href=""><img src="img/icons/qq.svg" alt="QQ登录"></a>
                    </div>
                    
                </div>
                <div class="login_ad l_float" id="AdImg">
                    <a ><span id ="yzmspan" style ="color:white;font-size:20px"></span></a>
                </div>
            </div>
            <div class="footer">
            
                        <p>皮一下我就很开心</p>
                        <a href="#" target="_blank"><img src="img/icons/icp_record_filing.svg" alt="工信部备案">JavaEE1905
            </div>
        </div>
</body>

</html>
<script>
  var errori ='<%=request.getParameter("error")%>';
  if(errori=='yes'){
   alert("登录失败,账号或密码错误,请检查!");
  }
</script>